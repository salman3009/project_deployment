{"ast":null,"code":"import{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{useUser}from'../helpers/UserProvider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){const[getData,setData]=useState({email:'',password:'',appType:'music'});const{signInUser}=useUser();const[getError,setError]=useState(\"\");const navigate=useNavigate();const onChangeHandler=event=>{setData({...getData,[event.target.name]:event.target.value});};const onSubmitHandler=event=>{event.preventDefault();setError('');axios.post(\"https://academics.newtonschool.co/api/v1/user/login\",getData).then(response=>{console.log(response.data);debugger;localStorage.setItem(\"token\",response.data.token);signInUser({status:response.data.status,token:response.data.token,name:response.data.data.name,email:response.data.data.email});navigate('/');}).catch(error=>{console.log(error);if(error.response&&error.response.data&&error.response.data.message){setError(error.response.data.message);}else{setError(\"unknow error please try after sometime\");}});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-4\",children:[getError&&/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-danger\",role:\"alert\",children:getError}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"emailAddress\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:getData.email,onChange:onChangeHandler,className:\"form-control\",id:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:getData.password,onChange:onChangeHandler,className:\"form-control\",id:\"password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"appType\",children:\"App Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"appType\",onChange:onChangeHandler,className:\"form-control\",id:\"appType\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"music\",children:\"music\"}),/*#__PURE__*/_jsx(\"option\",{value:\"album\",children:\"album\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Login\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"})]})});}export default Login;","map":{"version":3,"names":["useState","axios","useNavigate","useUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","getData","setData","email","password","appType","signInUser","getError","setError","navigate","onChangeHandler","event","target","name","value","onSubmitHandler","preventDefault","post","then","response","console","log","data","localStorage","setItem","token","status","catch","error","message","children","className","class","role","onSubmit","htmlFor","type","onChange","id"],"sources":["/Users/salmanahmedg/Documents/NEWTON_BATCH/project_deployment/src/pages/Login.js"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { useUser } from '../helpers/UserProvider';\n\nfunction Login() {\n\n    const [getData, setData] = useState({\n        email: '',\n        password: '',\n        appType: 'music'\n    })\n\n    const { signInUser } = useUser();\n\n\n    const [getError, setError] = useState(\"\");\n\n    const navigate = useNavigate();\n\n\n    const onChangeHandler = (event) => {\n        setData({ ...getData, [event.target.name]: event.target.value })\n    }\n\n    const onSubmitHandler = (event) => {\n        event.preventDefault();\n        setError('');\n        axios.post(\"https://academics.newtonschool.co/api/v1/user/login\", getData).then((response) => {\n            console.log(response.data);\n            debugger;\n            localStorage.setItem(\"token\", response.data.token);\n            signInUser({ status: response.data.status, token: response.data.token, name: response.data.data.name, email: response.data.data.email })\n            navigate('/');\n        }).catch((error) => {\n            console.log(error);\n            if (error.response && error.response.data && error.response.data.message) {\n                setError(error.response.data.message);\n            }\n            else {\n                setError(\"unknow error please try after sometime\");\n            }\n        })\n    }\n\n    return (<>\n        <div className=\"row\">\n            <div className=\"col-4\">\n\n            </div>\n            <div className=\"col-4\">\n                {getError && <div class=\"alert alert-danger\" role=\"alert\">\n                    {getError}\n                </div>}\n                <form onSubmit={onSubmitHandler}>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"emailAddress\">Email address</label>\n                        <input type=\"email\" name=\"email\" value={getData.email} onChange={onChangeHandler} className=\"form-control\" id=\"email\" />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input type=\"password\" name=\"password\" value={getData.password} onChange={onChangeHandler} className=\"form-control\" id=\"password\" />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"appType\">App Type</label>\n                        <select name=\"appType\" onChange={onChangeHandler} className=\"form-control\" id=\"appType\">\n                            <option value=\"music\">music</option>\n                            <option value=\"album\">album</option>\n                        </select>\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-primary\">Login</button>\n                </form>\n            </div>\n            <div className=\"col-4\">\n\n            </div>\n        </div>\n    </>)\n}\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}