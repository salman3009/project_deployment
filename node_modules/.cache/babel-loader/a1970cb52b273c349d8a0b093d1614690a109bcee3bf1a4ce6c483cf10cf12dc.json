{"ast":null,"code":"import{useState,useEffect}from'react';import axios from'axios';import MusicCard from'../components/MusicCard';import MusicPlayer from'../components/MusicPlayer';import Sidebar from'../pages/Sidebar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Home(){const[isLoading,setIsLoading]=useState(false);const[musicsList,setMusicList]=useState([]);const[selectedMusic,setMusic]=useState(null);const fetchMusics=async()=>{try{setIsLoading(true);const musics=await axios.get(\"https://academics.newtonschool.co/api/v1/music/song\",{'headers':{projectId:'f104bi07c490'}});console.log(\"musics\",musics);const musicListData=musics.data.data;setMusicList(musicListData);}catch(err){console.log(err);}finally{setIsLoading(false);}};useEffect(()=>{fetchMusics();},[]);const setMusicHandler=id=>{let selectedMusic=musicsList[id];setMusic(selectedMusic);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"global-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-bar\",children:/*#__PURE__*/_jsx(Sidebar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"right-bar\",children:/*#__PURE__*/_jsx(\"section\",{className:\"musicList-container\",children:musicsList.map((music,i)=>/*#__PURE__*/_jsx(MusicCard,{title:music.title,thumbnail:music.thumbnail,artist:music.artist,id:i,library:false,setSelectedMusic:setMusicHandler},i))})})]}),selectedMusic&&/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(MusicPlayer,{thumbnail:selectedMusic.thumbnail,songId:selectedMusic._id,heart:false,title:selectedMusic.title,artist:selectedMusic.artist,audio_url:selectedMusic.audio_url})})]});}export default Home;","map":{"version":3,"names":["useState","useEffect","axios","MusicCard","MusicPlayer","Sidebar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","isLoading","setIsLoading","musicsList","setMusicList","selectedMusic","setMusic","fetchMusics","musics","get","projectId","console","log","musicListData","data","err","setMusicHandler","id","children","className","map","music","i","title","thumbnail","artist","library","setSelectedMusic","songId","_id","heart","audio_url"],"sources":["/Users/salmanahmedg/Documents/NEWTON_BATCH/project_deployment/src/pages/Home.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport MusicCard from '../components/MusicCard';\nimport MusicPlayer from '../components/MusicPlayer';\nimport Sidebar from '../pages/Sidebar';\n\nfunction Home() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [musicsList, setMusicList] = useState([]);\n  const [selectedMusic, setMusic] = useState(null);\n\n  const fetchMusics = async () => {\n    try {\n      setIsLoading(true);\n      const musics = await axios.get(\n        \"https://academics.newtonschool.co/api/v1/music/song\",\n        { 'headers': { projectId: 'f104bi07c490' } }\n      );\n      console.log(\"musics\", musics);\n      const musicListData = musics.data.data;\n      setMusicList(musicListData);\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchMusics();\n  }, []);\n\n  const setMusicHandler = (id) => {\n    let selectedMusic = musicsList[id];\n    setMusic(selectedMusic);\n  }\n\n  return (<>\n    <div className=\"global-container\">\n      <div className=\"left-bar\">\n        <Sidebar />\n      </div>\n      <div className=\"right-bar\">\n        <section className=\"musicList-container\">\n          {musicsList.map((music, i) => (\n            <MusicCard key={i}\n              title={music.title}\n              thumbnail={music.thumbnail}\n              artist={music.artist}\n              id={i}\n              library={false}\n              setSelectedMusic={setMusicHandler}\n            />\n          ))}\n        </section>\n      </div>\n    </div>\n    {selectedMusic && <section>\n      <MusicPlayer thumbnail={selectedMusic.thumbnail}\n        songId={selectedMusic._id}\n        heart={false}\n        title={selectedMusic.title}\n        artist={selectedMusic.artist}\n        audio_url={selectedMusic.audio_url}\n      />\n    </section>}\n  </>)\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}